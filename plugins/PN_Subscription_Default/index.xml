<?xml version="1.0" encoding="utf-8"?>
<plugin version="1.0">
  <title xml:lang="en">Feed Subscription Log</title>
  <title xml:lang="ko">피드 구독 통계</title>
  <link>http://needlworks.org/</link>
  <version>1.5</version>
  <description xml:lang="en">Shows Feed Subscription Log using Textcube Components.</description>
  <description xml:lang="ko">텍스트큐브 컴포넌트를 이용하여 피드 구독 통계를 보여줍니다.</description>
  <license>GPL</license>
  <author xml:lang="en" link="http://forum.tattertools.com/en">Tatter &amp; Friends</author>
  <author xml:lang="ko" link="http://forum.tattertools.com/ko">태터앤프렌즈</author>
  <safety changeData="no" exposeData="no" accessLocal="no" accessRemote="no" accessRaw="yes" />
  <requirements>
    <tattertools>1.1</tattertools>
    <textcube>1.5</textcube>
  </requirements>
  <binding>
	<listener event="refreshRSS">PN_Subscription_setTime</listener>
	<listener event="ViewRSS">updateSubscriptionStatistics</listener>
	<adminMenu>
      <viewMethods>
        <method>
          <title xml:lang="en">Feed Subscription</title>
          <title xml:lang="ko">피드 통계</title>
          <handler>PN_Subscription_Default</handler>
        </method>
      </viewMethods>
    </adminMenu>
  </binding>
  <storage>
    <table>
      <name>SubscriptionLogs</name>
      <fields>
        <field>
          <name>ip</name>
            <attribute>varchar</attribute>
            <length>16</length>
            <isnull>0</isnull>
          </field>
          <field>
            <name>host</name>
            <attribute>varchar</attribute>
            <length>64</length>
          </field>
          <field>
            <name>useragent</name>
            <attribute>varchar</attribute>
            <length>128</length>
            <isnull>0</isnull>
          </field>
          <field>
            <name>referred</name>
            <attribute>int</attribute>
            <length>11</length>
            <isnull>0</isnull>
            <default>0</default>
          </field>
      </fields>
      <key>useragent</key>
    </table>
    <table>
      <name>SubscriptionStatistics</name>
      <fields>
          <field>
            <name>ip</name>
            <attribute>varchar</attribute>
            <length>16</length>
            <isnull>0</isnull>
          </field>
          <field>
            <name>host</name>
            <attribute>varchar</attribute>
            <length>64</length>
            <isnull>0</isnull>
          </field>
          <field>
            <name>useragent</name>
            <attribute>varchar</attribute>
            <length>128</length>
            <isnull>0</isnull>
          </field>
          <field>
            <name>subscribed</name>
            <attribute>int</attribute>
            <length>11</length>
            <isnull>0</isnull>
            <default>0</default>
          </field>
          <field>
            <name>referred</name>
            <attribute>int</attribute>
            <length>11</length>
            <isnull>0</isnull>
            <default>0</default>
          </field>
      </fields>
      <key>useragent</key>
     </table>
  </storage>
</plugin>
